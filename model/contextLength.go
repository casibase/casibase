package model

import "github.com/sashabaranov/go-openai"

// deepseek https://api-docs.deepseek.com/zh-cn/quick_start/pricing
// qwen     https://help.aliyun.com/zh/model-studio/models
// moonshot https://platform.moonshot.cn/docs/pricing/chat#%E7%94%9F%E6%88%90%E6%A8%A1%E5%9E%8B-moonshot-v1
// ernie    https://ai.baidu.com/ai-doc/WENXINWORKSHOP/Wm9cvy6rl
// cohere   https://docs.cohere.com/v2/docs/models#Command
// doubao   https://www.volcengine.com/docs/82379/1330310
// step     https://platform.stepfun.com/docs/llm/text
// Gemini   https://firebase.google.com/docs/vertex-ai/models
// hunyuan  https://cloud.tencent.com/document/product/1729/104753
// chatGLM   https://open.bigmodel.cn/pricing
// #Specifications and limitations
var contextLenth = map[string]map[string]int{
	"OpenAI": {
		"gpt-4.5-preview-2025-02-27": 131072,
		openai.GPT4o:                 131072,
		openai.GPT4o20240513:         131072,
		openai.GPT4oMini:             131072,
		openai.GPT4oMini20240718:     131072,
		openai.GPT4VisionPreview:     131072,
		openai.GPT4:                  8192,
		openai.GPT40613:              8192,
		openai.GPT432K:               32768,
		openai.GPT432K0613:           32768,
		openai.GPT40314:              8192,
		openai.GPT432K0314:           32768,
		openai.GPT3Dot5Turbo:         4097,
		openai.GPT3Dot5Turbo16K:      16385,
		openai.GPT3Dot5Turbo0613:     4097,
		openai.GPT3Dot5Turbo16K0613:  16385,
		openai.GPT3Dot5Turbo0301:     4097,
		openai.GPT3TextDavinci003:    4097,
		openai.GPT3TextDavinci002:    4097,
		openai.GPT3TextCurie001:      2049,
		openai.GPT3TextBabbage001:    2049,
		openai.GPT3TextAda001:        2049,
		openai.GPT3Davinci:           2049,
		openai.GPT3Curie:             2049,
		openai.GPT3Ada:               2049,
		openai.GPT3Babbage:           2049,
	},
	"Gemini": {
		"gemini-pro":        1048576,
		"gemini-pro-vision": 1048576,
	}, "GitHub": {
		"gpt-4o":                        131072,
		"gpt-4o-mini":                   131072,
		"Phi-4-multimodal-instruct":     0,
		"Phi-4-mini-instruct":           0,
		"Phi-4":                         0,
		"Mistral-Large-2411":            0,
		"AI21-Jamba-1.5-Large":          0,
		"AI21-Jamba-1.5-Mini":           0,
		"Cohere-command-r-08-2024":      131072,
		"Cohere-command-r-plus-08-2024": 131072,
		"Llama-3.3-70B-Instruct":        131072,
	},
	"Hugging Face": {
		"meta-llama/Llama-2-7b":           4096,
		"tiiuae/falcon-180B":              0,
		"bigscience/bloom":                0,
		"gpt2":                            0,
		"baichuan-inc/Baichuan2-13B-Chat": 0,
		"THUDM/chatglm2-6b":               0,
	}, "Claude": {
		"claude-2.0":                 102400,
		"claude-2.1":                 102400,
		"claude-instant-1.2":         102400,
		"claude-3-sonnet-20240229":   204800,
		"claude-3-opus-20240229":     204800,
		"claude-3-haiku-20240307":    204800,
		"claude-3-7-sonnet-20250219": 204800,
	}, "OpenRouter": {
		"google/palm-2-codechat-bison": 0,
		"google/palm-2-chat-bison":     0,
		"openai/gpt-3.5-turbo":         0,
		"openai/gpt-3.5-turbo-16k":     0,
		"openai/gpt-4":                 0,
		"openai/gpt-4-32k":             0,
		"anthropic/claude-2":           0,
		"anthropic/claude-instant-v1":  0,
		"meta-llama/llama-2-13b-chat":  0,
		"meta-llama/llama-2-70b-chat":  4096,
		"palm-2-codechat-bison":        0,
		"palm-2-chat-bison":            0,
		"gpt-3.5-turbo":                0,
		"gpt-3.5-turbo-16k":            0,
		"gpt-4":                        0,
		"gpt-4-32k":                    0,
		"claude-2":                     0,
		"claude-instant-v1":            0,
		"llama-2-13b-chat":             0,
		"llama-2-70b-chat":             4096,
	}, "Baidu Cloud": {
		"ernie-4.0-8k":                          8000,
		"ernie-4.0-8k-latest":                   8000,
		"ernie-4.0-8k-preview":                  8000,
		"ernie-4.0-turbo-8k":                    8000,
		"ernie-4.0-turbo-128k":                  131072,
		"ernie-4.0-turbo-8k-preview":            8000,
		"ernie-4.0-turbo-8k-latest":             8000,
		"ernie-3.5-8k":                          8000,
		"ernie-3.5-128k":                        131072,
		"ernie-3.5-8k-preview":                  8000,
		"ernie-speed-8k":                        8000,
		"ernie-speed-128k":                      131072,
		"ernie-speed-pro-128k":                  131072,
		"ernie-lite-8k":                         8000,
		"ernie-lite-pro-128k":                   131072,
		"ernie-tiny-8k":                         8000,
		"ernie-character-8k":                    8000,
		"ernie-character-fiction-8k":            8000,
		"ernie-novel-8k":                        8000,
		"deepseek-v3":                           65536,
		"deepseek-r1":                           65536,
		"deepseek-r1-distill-qwen-1.5b":         0,
		"deepseek-r1-distill-qwen-7b":           8192,
		"deepseek-r1-distill-qwen-14b":          32768,
		"deepseek-r1-distill-qwen-32b":          32768,
		"deepseek-r1-distill-llama-8b":          0,
		"deepseek-r1-distill-llama-70b":         4096,
		"deepseek-r1-distill-qianfan-llama-8b":  0,
		"deepseek-r1-distill-qianfan-llama-70b": 4096,
	}, "Cohere": {
		"command-light": 4096,
		"command":       4096,
	}, "iFlytek": {
		"spark-v1.5": 8192,
		"spark-v2.0": 0,
	}, "ChatGLM": {
		"glm-3-turbo": 131072,
		"glm-4":       131072,
		"glm-4V":      8192,
	}, "MiniMax": {
		"abab5-chat": 0,
	}, "Ollama": {
		"deepseek-r1:671b": 65536,
		"deepseek-r1:1.5b": 0,
		"deepseek-r1:7b":   0,
		"deepseek-r1:14b":  32768,
		"deepseek-r1:32b":  32768,
		"deepseek-r1:8b":   0,
		"deepseek-r1:70b":  0,
		"llama3.3:70b":     131072,
		"qwen2.5:7b":       131072,
		"qwen2.5:14b":      131072,
		"qwen2.5:32b":      131072,
		"qwen2.5:72b":      131072,
		"deepseek-v3:671b": 65536,
		"llama3.2:1b":      0,
		"llama3.2:3b":      0,
		"llama3:8b":        0,
		"llama3:70b":       131072,
	}, "Local": {
		"custom-model": 0,
	}, "Moonshot": {
		"moonshot-v1-8k":   8192,
		"moonshot-v1-32k":  32768,
		"moonshot-v1-128k": 131072,
	}, "Amazon Bedrock": {
		"claude":                      0,
		"claude-instant":              0,
		"command":                     0,
		"command-light":               0,
		"embed-english":               0,
		"embed-multilingual":          0,
		"jurassic-2-mid":              0,
		"jurassic-2-ultra":            0,
		"llama-2-chat-13b":            0,
		"llama-2-chat-70b":            4096,
		"titan-text-lite":             0,
		"titan-text-express":          0,
		"titan-embeddings":            0,
		"titan-multimodal-embeddings": 0,
	}, "Alibaba Cloud": {
		"qwen-long":                     1000000,
		"qwen-turbo":                    1000000,
		"qwen-plus":                     131072,
		"qwen-max":                      131072,
		"qwen-max-longcontext":          0,
		"qwen3-235b-a22b":               131072,
		"qwen3-32b":                     131072,
		"deepseek-r1":                   65536,
		"deepseek-v3":                   65536,
		"deepseek-r1-distill-qwen-1.5b": 0,
		"deepseek-r1-distill-qwen-7b":   8192,
		"deepseek-r1-distill-qwen-14b ": 32768,
		"deepseek-r1-distill-qwen-32b":  32768,
		"deepseek-r1-distill-llama-8b":  0,
		"deepseek-r1-distill-llama-70b": 0,
	}, "Baichuan": {
		"Baichuan2-Turbo": 0,
		"Baichuan3-Turbo": 0,
		"Baichuan4":       0,
	}, "Volcano Engine": {
		"Doubao-lite-4k":               4096,
		"Doubao-1.5-pro-32k":           32768,
		"Doubao-1.5-pro-256k":          262144,
		"Doubao-1.5-lite-32k":          32768,
		"Doubao-lite-32k":              32768,
		"Doubao-lite-128k":             131072,
		"Doubao-pro-4k":                4096,
		"Doubao-pro-32k":               32768,
		"Doubao-pro-128k":              131072,
		"Doubao-pro-256k":              262144,
		"Deepseek-R1":                  65536,
		"Deepseek-R1-Distill-Qwen-32B": 32768,
		"Deepseek-R1-Distill-Qwen-7B":  8192,
		"Deepseek-v3":                  65536,
		"GLM3-130B":                    0,
		"Moonshot-v1-8K":               8192,
		"Moonshot-v1-32K":              32768,
		"Moonshot-v1-128K":             131072,
	}, "DeepSeek": {
		"deepseek-chat":     65536,
		"deepseek-reasoner": 65536,
	}, "StepFun": {
		"step-1-8k":    8192,
		"step-1-32k":   32768,
		"step-1-128k":  131072,
		"step-1-256k":  262144,
		"step-1-flash": 8192,
		"step-2-16k":   16384,
	}, "Tencent Cloud": {
		"hunyuan-lite":                  8192,
		"hunyuan-standard":              32768,
		"hunyuan-standard-256K":         262144,
		"hunyuan-pro":                   0,
		"hunyuan-code":                  8192,
		"hunyuan-role":                  32768,
		"hunyuan-turbo":                 0,
		"deepseek-r1":                   65536,
		"deepseek-v3":                   65536,
		"deepseek-r1-distill-qwen-1.5b": 0,
		"deepseek-r1-distill-qwen-7b":   8192,
		"deepseek-r1-distill-qwen-14b":  32768,
		"deepseek-r1-distill-qwen-32b":  32768,
		"deepseek-r1-distill-llama-8b":  0,
		"deepseek-r1-distill-llama-70b": 0,
	}, "Mistral": {
		"mistral-large-latest": 0,
		"pixtral-large-latest": 0,
		"mistral-small-latest": 0,
		"codestral-latest":     0,
		"ministral-8b-latest":  0,
		"ministral-3b-latest":  0,
		"pixtral-12b":          0,
		"mistral-nemo":         0,
		"open-mistral-7b":      0,
		"open-mixtral-8x7b":    0,
		"open-mixtral-8x22b":   0,
	}, "Yi": {
		"yi-lightning": 16384,
		"yi-vision-v2": 16384,
	}, "Silicon Flow": {
		"deepseek-ai/DeepSeek-R1":                   65536,
		"deepseek-ai/DeepSeek-V3":                   65536,
		"deepseek-ai/DeepSeek-R1-Distill-Llama-70B": 0,
		"deepseek-ai/DeepSeek-R1-Distill-Qwen-32B":  32768,
		"deepseek-ai/DeepSeek-R1-Distill-Qwen-14B":  32768,
		"deepseek-ai/DeepSeek-R1-Distill-Llama-8B":  0,
		"deepseek-ai/DeepSeek-R1-Distill-Qwen-7B":   8192,
		"deepseek-ai/DeepSeek-V2.5":                 0,
		"meta-llama/Llama-3.3-70B-Instruct":         131072,
		"meta-llama/Meta-Llama-3.1-405B-Instruct":   0,
		"meta-llama/Meta-Llama-3.1-70B-Instruct":    131072,
		"meta-llama/Meta-Llama-3.1-8B-Instruct":     0,
		"Qwen/Qwen2.5-72B-Instruct":                 131072,
		"Qwen/Qwen2.5-32B-Instruct":                 131072,
		"Qwen/Qwen2.5-14B-Instruct":                 131072,
		"Qwen/Qwen2.5-7B-Instruct":                  131072,
		"THUDM/glm-4-9b-chat":                       0,
		"01-ai/Yi-1.5-34B-Chat-16K":                 0,
		"01-ai/Yi-1.5-9B-Chat-16K":                  0,
		"google/gemma-2-27b-it":                     0,
		"google/gemma-2-9b-it":                      0,
	}, "Dummy": {
		"Dummy": 0,
	},
}

func getContextLength(typ string, subType string) int {
	contextLength, ok := contextLenth[typ][subType]
	if !ok || contextLength == 0 {
		return 4096
	}
	return contextLength
}
